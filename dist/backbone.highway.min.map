{"version":3,"sources":["../src/backbone.highway.js"],"names":["root","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","re","headingSlash","trailingSlash","parentheses","optionalParams","splatParams","namedParam","namedParams","defaultOptions","pushState","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","store","prefix","separator","debug","log","console","apply","arguments","definer","method","isFunction","options","TypeError","call","Highway","prototype","currentRoutes","start","extend","Router","_startHistory","restart","history","stop","map","declare","route","name","def","self","routesExtension","controllerExtension","currentName","isString","ReferenceError","isObject","path","_stripHeadingSlash","_routeToRegExp","wrappers","_processControllers","args","close","controllerWrapper","trigger","push","isUndefined","_storeCurrentRoute","_httpError","action","isEmpty","before","_processTriggers","after","go","_removeRootUrl","replace","_exists","_name","sameRoute","without","force","isArray","_convertArgObjectToArray","_path","continueProcess","forEach","bind","_parse","navigate","clearCache","triggers","routeArgs","_processTrigger","cache","_cacheTrigger","isNull","arg","_hasDispatcher","isTrigger","_extractParameters","length","_sanitizeArgs","callback","_findCachedTrigger","find","item","done","History","started","existingRoute","_applyStoredRoute","code","url","getFragment","Error","storedRoute","_getStoredRoute","_clearStore","test","params","_isValidArgsArray","_checkPath","_replaceArg","match","part","paramNames","substr","indexOf","undefined","setItem","_getStoreKey","key","getItem","removeItem","on","off"],"mappings":"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","file":"backbone.highway.min.js"}